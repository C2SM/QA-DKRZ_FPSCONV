getSrcPath()
{
  test ${CONDA_QA_PATH} && return

  # extract the path to the root of the QA package
   export QA_SRC=$0

   if [ -h $QA_SRC ] ; then
     while [ "$( ls -l $QA_SRC | awk '{print $(NF-1)}')" = '->' ] ; do
       QA_SRC=$( ls -l $QA_SRC | awk '{print $(NF)}' )
     done
   fi

   QA_SRC=${QA_SRC%/*} # ignore the filename
   cd ${QA_SRC} &> /dev/null
   QA_SRC=$(pwd)
   cd - &> /dev/null

   test ${QA_SRC##*/} = scripts && QA_SRC=${QA_SRC%/*}

   return
}

# main
getSrcPath
